<div class="shift_category-container">
    
    <div class="cat-icon-bar">
        <mat-icon *ngIf="this.eventService.editMode" class="del-cat-icon" aria-hidden="false" svgIcon="delete" (click)="delCatDialog(content)"></mat-icon>
        
        <mat-icon *ngIf="!this.eventService.editMode" (click)="this.eventService.toggleEditMode()" class="locked-icon" svgIcon="locked"></mat-icon>
        <mat-icon *ngIf="this.eventService.editMode" (click)="this.eventService.toggleEditMode()" class="unlocked-icon" svgIcon="unlocked"></mat-icon>

    </div>
    <button (click)="test()">TEST</button>

    <div *ngFor="let shift of content.shifts; let i = index">

        <div class="new-day"
            *ngIf="i == 0 || i > 0 && shift.startTime.getDate() > content.shifts[i-1].startTime.getDate()">
            <h3>{{shift.endTime | date: 'EEE dd. MM. yyyy'}}</h3>
        </div>

        <app-shift [nextShift]="i < content.shifts.length ? content.shifts[i+1] : undefined" [shift]="shift"
            [catId]="content.id"></app-shift>

        <div class="break"
            *ngIf="i != content.shifts.length -1 && shift.endTime.getTime() !== content.shifts[i + 1].startTime.getTime()">
            <div class="break-text" [ngClass]="{'locked': !unlocked}">
                <p>{{ calculateBreakTime(content.shifts[i + 1].startTime, shift.endTime)}} Pause</p>
            </div>
            <button *ngIf="this.eventService.editMode" class="new-shiftblock-in-break-button" (click)="commingSoon()">
                <h3>+</h3>
            </button>
        </div>

    </div>

    <div class="edit-div">
        <button *ngIf="this.eventService.editMode" class="new-shiftblock-button" (click)="addShiftblock()">+</button>
    </div>


    <div style="width: 100%; height: 0px; padding-top: 100px"></div>
</div>