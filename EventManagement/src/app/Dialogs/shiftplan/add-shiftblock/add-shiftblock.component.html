<mat-dialog-content class="dialog">

  <h2 mat-dialog-title>ğŸ•’ Neuer Schichtblock</h2>

  <div class="row">
    <mat-form-field appearance="outline">
      <mat-label>Startdatum</mat-label>
      <input matInput [matDatepicker]="picker"
        [(ngModel)]="block.startTime"
        (ngModelChange)="recalculate()" />
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Startzeit</mat-label>
      <input matInput type="time"
        [(ngModel)]="startTime"
        (ngModelChange)="updateTime()" />
    </mat-form-field>
  </div>

 <div class="row">
  <mat-form-field appearance="outline">
    <mat-label>Dauer (Min)</mat-label>
    <input matInput type="number"
      [(ngModel)]="block.intervall"
      (ngModelChange)="recalculate()" />
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Helfer pro Schicht</mat-label>
    <input matInput type="number"
      [(ngModel)]="block.activitiesPerShift" />
  </mat-form-field>
</div>

<mat-form-field appearance="outline" class="full">
  <mat-label>Anzahl Schichten</mat-label>
  <input matInput type="number"
    [(ngModel)]="block.numberOfShifts"
    (ngModelChange)="recalculate()" />
</mat-form-field>


  <mat-card class="summary" [class.error]="outOfEventDate()">
    <p>â±ï¸ {{ block.numberOfShifts }} Ã— {{ block.intervall }} Minuten</p>
    <p>ğŸ Ende: {{ block.endTime | date:'EEE dd.MM HH:mm' }}</p>
    <p *ngIf="outOfEventDate()">âš ï¸ Endet nach Eventende</p>
  </mat-card>

</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Abbrechen</button>
  <button mat-flat-button color="primary"
    [disabled]="outOfEventDate()"
    (click)="save()">
    Erstellen
  </button>
</mat-dialog-actions>
